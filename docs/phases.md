# 実装フェーズ詳細

## Phase 0：環境＆骨組み ✅ 完了

### 目的
技術スタックを一通り動かし、画面が1枚出てテストが通る状態を作る。

### このフェーズでやること（要件レベル）
- Node 22 / TypeScript / React Router v7 のプロジェクト雛形
- Tailwind + shadcn/ui が効いていること
- Dockerで Postgres / Redis が起動し、Prisma から Postgres に接続できること
- Vitest + Biome が最低限動作すること

### 画面
仮の「Hello Dashboard」1枚でもOK

### このフェーズのゴール
「環境を気にせず、機能設計に集中できる状態にする」

---

## Phase 1：ただの「日々のタスク管理」として成立させる ✅ 完了

### 目的
まだ目標もAIもなしでいいので、「今日やること」を登録して完了できるアプリとして成立させる。

### 機能
- 「今日のタスク」画面
  - タスクの追加・編集・削除
  - 完了チェック
- 「日付ごとのタスク」閲覧（前日・翌日くらい）
- 日次でのタスク保存（Postgres に永続化）

※ この時点では
- 目標との紐づけなし
- AIなし
- ただの「自作TODOアプリ」だが、UIの使い勝手を確かめられる

### 画面
- ダッシュボード（＝今日のタスクリスト）
- シンプルな日付切り替えUI

### このフェーズのゴール
「自分の1日の行動ログが最低限取れるようになる」

---

## Phase 2：目標とタスクを紐づける（複数目標対応）

### 目的
「複数目標を並行して進める」前提をアプリに反映させる。
年／月／週ビューはまだ薄くてOK、まずは目標の概念を入れる。

### 機能
- **目標のCRUD（複数作成可）**
  - タイトル
  - 説明（Why）
  - 優先度（高／中／低 くらい）

- **タスクと目標の紐づけ**
  - タスク作成時に「どの目標のためのタスクか」を選択
  - 「目標ごとに最近のタスク一覧」を見られる

### 画面
- 目標一覧画面
  - 各目標の概要＆「最近やったタスク」の簡易リスト
- 目標詳細画面
  - その目標に紐づくタスク履歴
- ダッシュボード（今日のタスク）には「どの目標か」がラベル表示される

### このフェーズのゴール
「今日は何をやる＝どの目標のための行動か」が分かるようになる

---

## Phase 3：AIヒアリングで目標を一緒に作る（チャット導入）

### 目的
「そもそも何を目標にすればいいか分からない」状態から、AIとの対話で目標を作れるようにする。

### 機能
- **チャット画面の追加（AIエージェントUI）**
- **初回オンボーディングフロー：**
  - 現状の悩みや興味を聞く
  - 興味ある分野（仕事・学習・健康・趣味など）をヒアリング
  - AIが目標候補を複数提案
  - ユーザーが「採用／修正／破棄」を選べる
- 作成された目標は、Phase 2で作った目標一覧にそのまま反映される

### 画面
- チャット画面（オンボーディング・相談用）
- 目標一覧画面：AIが作った目標が並ぶ

### このフェーズのゴール
「手動入力しなくても、AIと話すと目標が生まれる」

---

## Phase 4：AIがスケジュールと日々のタスクを調整する

### 目的
「複数目標 × 日次タスク」の配分と中身をAIに任せられるようにする。

### 機能
- **ユーザー設定：**
  - 1日に使えるおおよその時間（平日／休日）
  - 目標ごとの優先度 or 重み（ざっくり）

- **AIの役割：**
  - 目標ごとの時間配分を決める
  - 週単位で「この目標は今週どのくらいやるか」を決める
  - 日次タスクを自動生成し、「具体行動レベル」まで落とす

- **ユーザーの操作：**
  - 自動生成されたタスクを確認し、追加／削除／調整ができる（最終決定権はユーザー）

### 画面
- ダッシュボード（今日のタスク）
  - 「AIが提案したタスク」と分かる（例えばバッジ程度）
- 設定画面
  - 可処分時間
  - 目標の優先度／配分の調整

### このフェーズのゴール
「アプリを開くと、AIが組んだ"今日やることリスト"がすぐ出てくる」

---

## Phase 5：週次・月次振り返りとモチベ可視化

### 目的
「続けている実感」「前に進んでいる感」を可視化し、モチベーション維持を助ける。

### 機能

**日次／週次振り返り（強化）**

- **日次：**
  - 気分／忙しさスコアとコメント入力

- **週次：**
  - 1週間の達成率・各目標の進捗サマリ表示
  - 「来週どうする？」の簡単な入力（増やす／減らす／維持）

**月末振り返り（シンプル版）**

- その月に：
  - 各目標にどれだけタスクを投下したか（回数・時間ベース）
  - AIが「今月のふりかえりコメント」を生成
  - 「この1ヶ月で、特に進んだのは〇〇」「来月は△△を少し増やすと良さそう」など

### 画面
- 週次振り返り画面
- 月次振り返り画面
- 簡易的なグラフやカレンダー（タスク実行のヒートマップ程度）

### このフェーズのゴール
「1ヶ月単位で、自分がちゃんと積み上げてきた実感を得られる」
